{% extends "layout.html" %}
{% block content %}
    <div style="background-color: white;">
        <h1>Users</h1>
        <div class="user-grid-container">
            {% for user in users.items %}
                <a href="{{ url_for('users.user_profile', username=user.username )}}">
                    <div class="user-grid-item">
                        <div >
                            <div style="display: flex; align-items: center;">
                                <img class="user-image" src="static/pics/{{ user.image_file }}" alt="Profile Picture">
                                <h5 class="user-name">{{ user.username }}</h5>
                            </div>
                          
                            <div>
                               
                                <p class="user-reputation">Reputation: {{ user.karma }}</p>
                                <p class="user-duration">{{ datemember(user.date_joined)}}</p>
                            </div>
                        </div>
                    </div>
                </a>
            {% endfor %}
        </div>
    </div>
    
    <!-- Pagination -->
    {% if users.has_prev %}
    <a href="?page={{ users.prev_num }}">Previous</a>
    {% endif %}

    {% for page_num in users.iter_pages() %}
    {% if page_num %}
        {% if users.page == page_num %}
        <span class="current-page">{{ page_num }}</span>
        {% else %}
        <a href="?page={{ page_num }}">{{ page_num }}</a>
        {% endif %}
    {% else %}
        <span class="ellipsis">...</span>
    {% endif %}
    {% endfor %}

    {% if users.has_next %}
    <a href="?page={{ users.next_num }}">Next</a>
    {% endif %}

{% endblock content %}